# Configuration Railway pour SportMap Frontend avec Docker
version: 2

build:
  dockerfile: Dockerfile
  args:
    VITE_MAPBOX_TOKEN: $VITE_MAPBOX_TOKEN
    VITE_API_URL: $VITE_API_URL
    NODE_ENV: production

deploy:
  # Railway injecte automatiquement $PORT
  healthcheck:
    path: /health
    timeout: 30
    interval: 10

environments:
  production:
    VITE_MAPBOX_TOKEN: $VITE_MAPBOX_TOKEN
    VITE_API_URL: $VITE_API_URL
    NODE_ENV: production

resources:
  memory: 1Gi
  cpu: 1000m